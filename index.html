<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Моя страница</title>

    <script src="main.js" defer></script>
</head>

<body>
<section class="hero">
    <h1>Добро пожаловать!</h1>
    <p>Это сайт с формой</p>
</section>
<button class="theme-toggle" type="button" aria-pressed="false">Тема</button>
<script defer>
    const KEY='theme', btn=document.querySelector('.theme-toggle');
    const prefersDark = matchMedia('(prefers-color-scheme: dark)').matches;
    // Автовыбор: системная тема или сохранённый выбор пользователя
    if(localStorage.getItem(KEY)==='dark' || (!localStorage.getItem(KEY) &&
        prefersDark)){
        document.body.classList.add('theme-dark');
        btn?.setAttribute('aria-pressed','true');
    }
    // Переключение по кнопке с сохранением в localStorage
    btn?.addEventListener('click', ()=>{
        const isDark=document.body.classList.toggle('theme-dark');
        btn.setAttribute('aria-pressed', String(isDark));
        localStorage.setItem(KEY, isDark ? 'dark' : 'light');
    });
</script>

<!-- Кнопка открытия модалки -->
<button class="open-dialog" type="button">Написать нам</button>

<!-- Модалка с формой -->
<dialog class="contact-dialog" aria-labelledby="dialogTitle">
    <h2 id="dialogTitle">Обратная связь</h2>
    <form class="contact-form" method="dialog" novalidate>
        <label for="name">Имя</label>
        <input id="name" name="name" type="text" required minlength="2" autocomplete="given-name">

        <label for="email">E-mail</label>
        <input id="email" name="email" type="email" required autocomplete="email">

        <label for="phone">Телефон</label>
        <input class="phone-input" id="phone" name="phone" type="tel" inputmode="tel" autocomplete="tel" aria-describedby="phoneHelp"
               placeholder="+7 (___) ___-__-__" required pattern="^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$">
        <small id="phoneHelp">Формат: +7 (900) 000-00-00</small>

        <label for="date">Дата</label>
        <input id="date" name="date" type="date">

        <label for="topic">Тема</label>
        <select id="topic" name="topic" required>
            <option value="">Выберите тему</option>
            <option>Вопрос</option>
            <option>Заказ</option>
        </select>

        <label for="message">Сообщение</label>
        <textarea id="message" name="message" rows="4" required></textarea>

        <div class="form-actions">
            <button type="button" class="close-dialog">Закрыть</button>
            <button type="submit">Отправить</button>
        </div>
    </form>
</dialog>
<img
        src="img/card-640.jpg"
        srcset="img/card-640.jpg 640w, img/card-960.jpg 960w, img/card-1280.jpg 1280w"
        sizes="(max-width: 700px) 92vw, (max-width: 1200px) 640px, 960px"
        alt="Проект: макет мобильного приложения"
        loading="lazy">
<!-- Вставка с Rutube; замените XXXXXXXXXXXX на ID ролика -->
<div class="media">
    <iframe
            src="https://rutube.ru/play/embed/38baa5503e18f7c0cd4318fe0084df1f"
            title="Видео о проекте"
            allow="autoplay; encrypted-media; picture-in-picture; web-share" allowfullscreen loading="lazy">
    </iframe>
</div>
<script>
    // Пример: как теперь работать с классами в JS
    // const dialog = document.querySelector('.contact-dialog');
    // const openBtn = document.querySelector('.open-dialog');
    // const closeBtn = document.querySelector('.close-dialog');
    // openBtn?.addEventListener('click', () => dialog?.showModal());
    // closeBtn?.addEventListener('click', () => dialog?.close());
</script>
</body>

</html>